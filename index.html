<!DOCTYPE html>
<html lang="en">

<head>
    <!-- ========== META TAGS ========== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinmay | Portfolio</title>

    <!-- ========== EXTERNAL RESOURCES ========== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- ========== BACKGROUND ELEMENTS ========== -->
    <!-- Pixel background base layer -->
    <div class="pixel-bg"></div>

    <!-- Pixel grid overlay for retro effect -->
    <div class="pixel-grid"></div>

    <!-- Animated floating pixels container -->
    <div class="animated-pixels" id="animatedPixels"></div>

    <!-- Custom pixel-styled cursor -->
    <div class="pixel-cursor" id="pixelCursor"></div>

    <!-- ========== HEADER SECTION ========== -->
    <header>
        <div class="logo">Portfolio</div>
        <button class="nav-toggle" aria-label="toggle navigation">
            <span class="hamburger"></span>
        </button>
        <nav class="nav" data-visible="false">
            <ul class="nav__list">
                <li class="nav__item"><a href="#home" class="nav__link">Home</a></li>
                <li class="nav__item"><a href="#education" class="nav__link">Education</a></li>
                <li class="nav__item"><a href="#skills" class="nav__link">Skills</a></li>
                <li class="nav__item"><a href="#projects" class="nav__link">Projects</a></li>
                <li class="nav__item"><a href="#contact" class="nav__link">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- ========== CSS STYLES ========== -->
    <style>
        /* ========== GLOBAL VARIABLES ========== */
        :root {
            --primary: #6a5acd;
            /* Main purple color */
            --secondary: #9370db;
            /* Lighter purple */
            --accent: #ff8c00;
            /* Orange accent color */
            --dark: #222034;
            /* Dark background color */
            --light: #f0f0f0;
            /* Light text color */
            --pixel-size: 2px;
            /* Base size for pixel elements */
        }

        /* ========== BASE STYLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
            /* Retro computer font */
        }

        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
            scroll-behavior: smooth;
            /* Ensure smooth scrolling */
        }

        body {
            background-color: var(--dark);
            color: var(--light);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            /* perspective: 1000px; - REMOVED to fix modal position:fixed issue */
        }

        /* ========== BACKGROUND EFFECTS ========== */
        .pixel-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--dark);
            z-index: -2;
            /* Behind everything but above body */
        }

        .pixel-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Creates a subtle grid pattern */
            background-image:
                linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            /* Grid cell size */
            z-index: -1;
            pointer-events: none;
            /* Allows clicks to pass through */
        }

        /* ========== HEADER & NAVIGATION STYLES ========== */
        header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
            /* Above most other elements */
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            position: relative;
            z-index: 1000;
        }

        /* Logo underline animation */
        .logo::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, var(--accent), transparent);
        }

        /* Mobile Navigation Toggle */
        .nav-toggle {
            display: none;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            width: 2rem;
            height: 2rem;
            position: relative;
            z-index: 1000;
        }

        .hamburger {
            position: relative;
            display: block;
            width: 100%;
            height: 3px;
            background-color: var(--light);
            transition: all 0.3s ease;
        }

        .hamburger::before,
        .hamburger::after {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--light);
            transition: all 0.3s ease;
        }

        .hamburger::before {
            top: -8px;
        }

        .hamburger::after {
            bottom: -8px;
        }

        .nav-toggle[aria-expanded="true"] .hamburger {
            background-color: transparent;
        }

        .nav-toggle[aria-expanded="true"] .hamburger::before {
            transform: rotate(45deg);
            top: 0;
        }

        .nav-toggle[aria-expanded="true"] .hamburger::after {
            transform: rotate(-45deg);
            bottom: 0;
        }

        nav {
            display: flex;
        }

        .nav__list {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav__link {
            color: var(--light);
            text-decoration: none;
            position: relative;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        /* Navigation link hover animation */
        .nav__link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: width 0.3s ease;
        }

        .nav__link:hover {
            color: var(--accent);
        }

        .nav__link:hover::after {
            width: 100%;
        }

        /* ========== HERO SECTION STYLES ========== */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding: 0 10%;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: clamp(40px, 6vw, 80px);
            /* Responsive font size */
            margin-bottom: 20px;
            line-height: 1.2;
            position: relative;
        }

        .hero h1 span {
            color: var(--accent);
            /* Accent color for name */
        }

        .hero p {
            font-size: clamp(16px, 2vw, 20px);
            max-width: 600px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
        }

        /* ========== BUTTON STYLES ========== */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 0;
            /* Sharp edges for pixel look */
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn-primary {
            background-color: var(--accent);
            color: var(--dark);
            font-weight: bold;
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--light);
            border: 1px solid var(--light);
        }

        /* Button hover effect */
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            z-index: -1;
        }

        .btn:hover::before {
            left: 0;
        }

        .btn-secondary:hover {
            background-color: var(--light);
            color: var(--dark);
        }

        /* ========== ANIMATIONS ========== */
        @keyframes pixelate {
            0% {
                filter: none;
            }

            50% {
                filter: contrast(1.5) brightness(0.8);
            }

            100% {
                filter: drop-shadow(0 0 5px rgba(106, 90, 205, 0.7));
            }
        }

        /* ========== CUSTOM CURSOR STYLES ========== */
        .pixel-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background-color: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            /* Creates contrast with background */
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease;
        }

        /* ========== ANIMATED BACKGROUND PIXELS ========== */
        .animated-pixels {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .animated-pixels .pixel {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: var(--accent);
            opacity: 0;
            animation: float 10s linear infinite;
        }

        /* Floating animation for background pixels */
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
            }
        }

        /* ========== SECTION COMMON STYLES ========== */
        section {
            padding: 80px 5%;
            position: relative;
            z-index: 1;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-header h2 {
            font-size: clamp(30px, 4vw, 50px);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        /* Section title underline */
        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background-color: var(--accent);
        }

        /* ========== SKILLS SECTION STYLES ========== */
        .skills-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .skill-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            padding: 25px 15px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Animated gradient border effect */
        .skill-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            width: calc(100% + 4px);
            height: calc(100% + 4px);
            background: linear-gradient(45deg,
                    var(--primary),
                    var(--secondary),
                    var(--accent),
                    var(--primary));
            z-index: -1;
            background-size: 400%;
            animation: borderAnimate 3s linear infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* Gradient animation */
        @keyframes borderAnimate {
            0% {
                background-position: 0 0;
            }

            50% {
                background-position: 300% 0;
            }

            100% {
                background-position: 0 0;
            }
        }

        .skill-card:hover::before {
            opacity: 1;
        }

        .skill-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .skill-card i {
            font-size: 40px;
            margin-bottom: 15px;
            display: block;
            color: var(--accent);
        }

        .skill-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        /* ========== SKILLS MARQUEE STYLES ========== */
        .skills-marquee-container {
            width: 100%;
            overflow-x: auto;
            /* Allow manual scrolling */
            overflow-y: hidden;
            position: relative;
            padding: 40px 0;
            mask-image: none;
            -webkit-mask-image: none;
            cursor: grab;
            /* Indicate scrollability */

            /* Hide scrollbar for Firefox */
            scrollbar-width: none;
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .skills-marquee-container::-webkit-scrollbar {
            display: none;
        }

        .skills-track {
            display: flex;
            gap: 40px;
            width: max-content;
            /* Ensure animation is running by default */
            animation: skill-scroll 100s linear infinite;
            /* Very slow for maximum readability */
            will-change: transform;
        }

        .skills-marquee-container:hover .skills-track {
            animation-play-state: paused;
        }

        .skills-marquee-container:active {
            cursor: grabbing;
        }

        @keyframes skill-scroll {
            0% {
                transform: translateX(0);
            }

            100% {
                /* Moves exactly half the width (which is one full set of items) */
                transform: translateX(-50%);
            }
        }

        /* Fun Wiggle Animation */
        @keyframes wiggle {
            0% {
                transform: scale(1.1) translateY(-5px) rotate(0deg);
            }

            25% {
                transform: scale(1.1) translateY(-5px) rotate(-3deg);
            }

            50% {
                transform: scale(1.1) translateY(-5px) rotate(3deg);
            }

            75% {
                transform: scale(1.1) translateY(-5px) rotate(-3deg);
            }

            100% {
                transform: scale(1.1) translateY(-5px) rotate(0deg);
            }
        }

        .skill-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 140px;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            user-select: none;
        }

        .skill-item:hover {
            background: var(--accent);
            border-color: var(--accent);
            /* Combined transform is handled by keyframe if active, but we use box-shadow too */
            box-shadow: 0 10px 20px rgba(255, 140, 0, 0.6);
            /* Brighter glow */
            z-index: 10;
            animation: wiggle 0.4s ease-in-out;
            cursor: pointer;
        }

        .skill-item:hover .skill-name,
        .skill-item:hover .skill-icon {
            color: var(--dark) !important;
            /* Force dark text on accent background */
        }

        .skill-icon {
            font-size: 24px;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            /* Bouncy transition */
        }

        /* Spin icon on hover */
        .skill-item:hover .skill-icon {
            transform: rotate(360deg);
        }

        .skill-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--light);
            white-space: nowrap;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .skills-track {
                gap: 20px;
                animation-duration: 90s;
                /* Almost as slow as desktop for easy mobile reading */
            }

            .skill-item {
                padding: 12px 20px;
                min-width: 150px;
            }

            .skill-icon {
                font-size: 26px;
                /* Increased from 20px */
            }

            .skill-name {
                font-size: 16px;
                /* Increased from 14px */
            }
        }

        /* ========== PROJECTS SECTION STYLES ========== */
        .projects-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .project-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .project-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .project-card:hover .project-image img {
            transform: scale(1.1);
        }

        .project-tags {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .project-tag {
            padding: 5px 10px;
            background-color: var(--accent);
            color: var(--dark);
            font-size: 12px;
            font-weight: bold;
            border-radius: 3px;
        }

        .project-info {
            padding: 20px;
        }

        .project-info h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .project-info p {
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .project-links {
            display: flex;
            gap: 10px;
        }

        .project-links a {
            padding: 8px 15px;
            font-size: 14px;
            text-decoration: none;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .project-links .live {
            background-color: var(--accent);
            color: var(--dark);
            font-weight: bold;
        }

        .project-links .code {
            background-color: transparent;
            color: var(--light);
            border: 1px solid var(--light);
        }

        .project-links .code:hover {
            background-color: var(--light);
            color: var(--dark);
        }

        /* ========== PROJECT UTILITY CLASSES ========== */
        .hide {
            display: none;
        }

        .show {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========== PREVIEW MODAL STYLES ========== */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 900px;
            max-height: 80vh;
            border: 2px solid var(--accent);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 140, 0, 0.5);
            animation: zoomIn 0.3s ease;
        }

        .modal-content img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
            z-index: 10001;
        }

        .close-modal:hover,
        .close-modal:focus {
            color: var(--accent);
            text-decoration: none;
            cursor: pointer;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0)
            }

            to {
                transform: scale(1)
            }
        }

        /* ========== CONTACT SECTION STYLES ========== */
        .contact-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .contact-item i {
            font-size: 20px;
            color: var(--accent);
        }

        .contact-item-content h3 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .contact-item-content p {
            font-size: 14px;
            opacity: 0.8;
        }

        .contact-form {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: var(--light);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 10px rgba(255, 140, 0, 0.3);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        /* ========== FOOTER STYLES ========== */
        footer {
            padding: 25px 5%;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.05);
            position: relative;
            z-index: 1;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: var(--light);
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background-color: var(--accent);
            color: var(--dark);
            transform: translateY(-5px);
        }

        .copyright {
            font-size: 14px;
            opacity: 0.7;
        }

        /* ========== 3D CUBE ANIMATION ========== */
        .cube-container {
            position: absolute;
            top: 50%;
            right: 100px;
            transform: translateY(-50%);
            perspective: 1000px;
            width: 200px;
            height: 200px;
            animation: float-up-down 3s infinite ease-in-out;
            z-index: 2;
        }

        .cube {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            animation: rotate 15s infinite linear;
        }

        /* Floating animation for cube */
        @keyframes float-up-down {

            0%,
            100% {
                transform: translateY(-50%);
            }

            50% {
                transform: translateY(-60%);
            }
        }

        /* Cube rotation animation */
        @keyframes rotate {
            0% {
                transform: rotateX(0deg) rotateY(0deg);
            }

            100% {
                transform: rotateX(360deg) rotateY(360deg);
            }
        }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.8;
            border: 2px solid var(--light);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            font-weight: bold;
            color: var(--light);
        }

        /* Each face of the cube with different colors */
        .front {
            transform: translateZ(100px);
            background-color: rgba(106, 90, 205, 0.7);
        }

        .back {
            transform: translateZ(-100px) rotateY(180deg);
            background-color: rgba(147, 112, 219, 0.7);
        }

        .left {
            transform: translateX(-100px) rotateY(-90deg);
            background-color: rgba(255, 140, 0, 0.7);
        }

        .right {
            transform: translateX(100px) rotateY(90deg);
            background-color: rgba(106, 90, 205, 0.7);
        }

        .top {
            transform: translateY(-100px) rotateX(90deg);
            background-color: rgba(147, 112, 219, 0.7);
        }

        .bottom {
            transform: translateY(100px) rotateX(-90deg);
            background-color: rgba(255, 140, 0, 0.7);
        }

        /* ========== PIXEL ART CANVAS ========== */
        .pixel-art {
            position: absolute;
            width: 200px;
            height: 200px;
            bottom: 50px;
            left: 50px;
            transform: scale(0.8);
            opacity: 0.7;
            z-index: 2;
        }

        .pixel-row {
            display: flex;
        }

        .pixel-art .pixel {
            width: 10px;
            height: 10px;
            background-color: transparent;
            transition: all 0.5s ease;
        }

        /* ========== RESPONSIVE STYLES ========== */
        @media (max-width: 1200px) {
            .cube-container {
                right: 50px;
                width: 150px;
                height: 150px;
            }

            .pixel-art {
                transform: scale(0.6);
            }
        }

        @media (max-width: 992px) {
            .hero {
                padding-top: 80px;
                padding-bottom: 100px;
            }

            .cube-container {
                display: none;
            }

            .pixel-art {
                display: none;
            }

            section {
                padding: 60px 5%;
            }
        }

        @media (max-width: 768px) {

            /* Mobile Navigation */
            .nav-toggle {
                display: block;
                z-index: 1001;
            }

            /* Hide the navigation by default on mobile */
            .nav {
                position: fixed;
                top: 0;
                right: 0;
                width: 100%;
                height: 100vh;
                background-color: rgba(34, 32, 52, 0.98);
                backdrop-filter: blur(10px);
                display: flex;
                justify-content: center;
                align-items: center;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                z-index: 1000;
                visibility: hidden;
                /* Add this to completely hide it */
            }

            .nav[data-visible="true"] {
                transform: translateX(0%);
                visibility: visible;
                /* Show when toggled */
            }

            .nav__list {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }

            .nav__link {
                font-size: 1.5rem;
            }

            /* Remove the duplicate nav hiding rule since we only have one nav */
            header {
                flex-direction: row;
                justify-content: space-between;
                gap: 15px;
                padding: 15px;
            }

            .hero {
                padding: 40px 5%;
                text-align: center;
                align-items: center;
                height: auto;
                min-height: 85vh;
                /* Reduced from 100vh */
                padding-bottom: 20px;
            }

            .hero h1 {
                font-size: clamp(30px, 8vw, 50px);
            }

            .hero-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .btn {
                width: 100%;
                max-width: 300px;
            }

            .skills-container {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .projects-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .contact-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            footer {
                padding: 25px 5%;
            }

            /* Fix for carousel gap on mobile */
            .carousel-container {
                margin-top: -60px;
                /* Increased negative margin */
                padding: 20px 0;
            }
        }

        @media (min-width: 769px) {

            /* Hide the hamburger menu on desktop */
            .nav-toggle {
                display: none;
            }

            /* Ensure the navigation is visible on desktop */
            .nav {
                display: flex !important;
                transform: none !important;
                position: static;
                width: auto;
                height: auto;
                background-color: transparent;
                backdrop-filter: none;
                visibility: visible;
                /* Ensure it's visible */
            }

            .nav__list {
                flex-direction: row;
            }

            .nav__link {
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 30px 5%;
                padding-bottom: 30px;
            }

            section {
                padding: 40px 5%;
            }

            .skills-container {
                grid-template-columns: 1fr;
            }

            .project-image {
                height: 150px;
            }

            .social-links {
                flex-wrap: wrap;
            }

            /* Additional fix for very small screens */
            .carousel-container {
                margin-top: -20px;
                padding: 30px 0;
            }

            .section-header {
                margin-bottom: 30px;
            }
        }

        /* ========== PARALLAX LAYERS ========== */
        .parallax-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            perspective: 1000px;
            z-index: -1;
        }

        .parallax-back {
            transform-style: preserve-3d;
            transform: translateZ(-300px) scale(1.5);
        }

        .parallax-bg {
            transform-style: preserve-3d;
            transform: translateZ(-200px) scale(1.3);
        }

        .parallax-mid {
            transform-style: preserve-3d;
            transform: translateZ(-100px) scale(1.1);
        }

        .parallax-front {
            transform-style: preserve-3d;
            transform: translateZ(0);
        }

        /* ========== SCROLL INDICATOR ========== */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            z-index: 5;
            transition: opacity 0.5s ease-out;
        }

        .scroll-text {
            font-size: 12px;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        /* Pulsing animation for scroll text */
        @keyframes pulse {
            0% {
                opacity: 0.5;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.5;
            }
        }

        .scroll-icon {
            width: 30px;
            height: 50px;
            border: 2px solid var(--light);
            border-radius: 15px;
            position: relative;
        }

        /* Animated scroll indicator */
        .scroll-icon::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 10px;
            background-color: var(--light);
            border-radius: 2px;
            animation: scroll 2s infinite;
        }

        @keyframes scroll {
            0% {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateX(-50%) translateY(20px);
                opacity: 0;
            }
        }

        /* ========== TYPEWRITER EFFECT ========== */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid var(--accent);
            white-space: nowrap;
            letter-spacing: 1px;
            animation:
                typing 3.5s steps(40, end),
                blink-caret 0.75s step-end infinite;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            .typewriter {
                white-space: normal;
                border-right: none;
                animation: none;
            }
        }

        /* Typewriter animation */
        @keyframes typing {
            from {
                width: 0
            }

            to {
                width: 100%
            }
        }

        /* Cursor blink animation */
        @keyframes blink-caret {

            from,
            to {
                border-color: transparent
            }

            50% {
                border-color: var(--accent)
            }
        }

        /* ========== 3D IMAGE CAROUSEL ========== */
        .carousel-container {
            position: relative;
            width: 100%;
            padding: 80px 0;
            margin: 0 auto;
            overflow: hidden;
            z-index: 1;
        }

        .carousel {
            position: relative;
            width: 550px;
            height: 180px;
            transform-style: preserve-3d;
            animation: spin 10s linear infinite;
            margin: 0 auto;
            display: block;
            z-index: 1;
        }

        .carousel img {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 12px;
            object-fit: cover;
            /* Center images in carousel */
            left: calc(50% - 75px);
            top: calc(50% - 75px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s ease;
        }

        .carousel img:hover {
            transform: scale(1.1);
        }

        /* Position each carousel image in 3D space */
        .carousel img:nth-child(1) {
            transform: rotateY(0deg) translateZ(300px);
        }

        .carousel img:nth-child(2) {
            transform: rotateY(120deg) translateZ(300px);
        }

        .carousel img:nth-child(3) {
            transform: rotateY(240deg) translateZ(300px);
        }

        /* Carousel rotation animation */
        @keyframes spin {
            from {
                transform: rotateY(0deg) rotateX(10deg);
            }

            to {
                transform: rotateY(360deg) rotateX(10deg);
            }
        }

        /* ========== RESPONSIVE CAROUSEL ADJUSTMENTS ========== */
        @media (max-width: 992px) {
            .carousel {
                width: 450px;
                height: 160px;
            }

            .carousel img {
                width: 130px;
                height: 130px;
                left: calc(50% - 65px);
                top: calc(50% - 65px);
                transform: rotateY(var(--rotation-angle, 0deg)) translateZ(250px);
            }

            .carousel img:nth-child(1) {
                transform: rotateY(0deg) translateZ(250px);
            }

            .carousel img:nth-child(2) {
                transform: rotateY(120deg) translateZ(250px);
            }

            .carousel img:nth-child(3) {
                transform: rotateY(240deg) translateZ(250px);
            }
        }

        @media (max-width: 768px) {
            .carousel {
                width: 350px;
                height: 120px;
            }

            .carousel img {
                width: 100px;
                height: 100px;
                left: calc(50% - 50px);
                top: calc(50% - 50px);
                transform: rotateY(var(--rotation-angle, 0deg)) translateZ(200px);
            }

            .carousel img:nth-child(1) {
                transform: rotateY(0deg) translateZ(200px);
            }

            .carousel img:nth-child(2) {
                transform: rotateY(120deg) translateZ(200px);
            }

            .carousel img:nth-child(3) {
                transform: rotateY(240deg) translateZ(200px);
            }
        }

        @media (max-width: 600px) {
            .carousel {
                width: 280px;
                height: 100px;
            }

            .carousel img {
                width: 80px;
                height: 80px;
                left: calc(50% - 40px);
                top: calc(50% - 40px);
                transform: rotateY(var(--rotation-angle, 0deg)) translateZ(150px);
            }

            .carousel img:nth-child(1) {
                transform: rotateY(0deg) translateZ(150px);
            }

            .carousel img:nth-child(2) {
                transform: rotateY(120deg) translateZ(150px);
            }

            .carousel img:nth-child(3) {
                transform: rotateY(240deg) translateZ(150px);
            }
        }

        @media (max-width: 400px) {
            .carousel {
                width: 220px;
                height: 80px;
            }

            .carousel img {
                width: 60px;
                height: 60px;
                left: calc(50% - 30px);
                top: calc(50% - 30px);
                transform: rotateY(var(--rotation-angle, 0deg)) translateZ(120px);
            }

            .carousel img:nth-child(1) {
                transform: rotateY(0deg) translateZ(120px);
            }

            .carousel img:nth-child(2) {
                transform: rotateY(120deg) translateZ(120px);
            }

            .carousel img:nth-child(3) {
                transform: rotateY(240deg) translateZ(120px);
            }
        }

        /* ========== PROJECT CATEGORIES ========== */
        .project-categories {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 10px 20px;
            background-color: transparent;
            border: 2px solid var(--accent);
            color: var(--light);
            font-family: 'Courier New', monospace;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .category-btn:hover,
        .category-btn.active {
            background-color: var(--accent);
            color: var(--dark);
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.5);
        }

        /* Glitch effect on click */
        .category-btn.glitch-active {
            animation: glitch-skew 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
        }

        @keyframes glitch-skew {
            0% {
                transform: skew(0deg);
            }

            20% {
                transform: skew(-10deg);
            }

            40% {
                transform: skew(10deg);
            }

            60% {
                transform: skew(-5deg);
            }

            80% {
                transform: skew(5deg);
            }

            100% {
                transform: skew(0deg);
            }
        }

        /* ========== EDUCATION SECTION STYLES ========== */
        .education-container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px 0;
        }

        .progress-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(-50%);
            border-radius: 2px;
            z-index: 0;
        }

        .progress-line-fill {
            width: 100%;
            height: 0;
            background-color: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            transition: height 0.1s ease-out;
        }

        .quest-node {
            position: relative;
            margin-bottom: 60px;
            display: flex;
            justify-content: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
            z-index: 1;
        }

        .quest-node.show {
            opacity: 1;
            transform: translateY(0);
        }

        .checkpoint {
            width: 20px;
            height: 20px;
            background-color: var(--dark);
            border: 3px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            transition: all 0.4s ease;
        }

        .quest-node.active .checkpoint {
            border-color: var(--accent);
            background-color: var(--accent);
            box-shadow: 0 0 15px var(--accent);
            transform: translateX(-50%) scale(1.3);
        }

        /* Content Card */
        .quest-content {
            width: 45%;
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            transition: all 0.3s ease;
        }

        .quest-node.active .quest-content {
            border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.2);
        }

        .quest-content:hover {
            transform: translateY(-5px);
        }

        /* Alternating Layout */
        .quest-node:nth-child(odd) .quest-content {
            margin-right: auto;
            text-align: right;
            transform: translateX(-30px);
        }

        .quest-node:nth-child(even) .quest-content {
            margin-left: auto;
            text-align: left;
            transform: translateX(30px);
        }

        .quest-node.show:nth-child(odd) .quest-content,
        .quest-node.show:nth-child(even) .quest-content {
            transform: translateX(0);
        }

        /* Connecting Lines */
        .quest-content::after {
            content: '';
            position: absolute;
            top: 20px;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.6s ease 0.2s;
        }

        .quest-node.active .quest-content::after {
            width: 50px;
        }

        .quest-node:nth-child(odd) .quest-content::after {
            right: -50px;
            display: block;
        }

        .quest-node:nth-child(even) .quest-content::after {
            left: -50px;
            display: block;
        }

        .quest-title {
            color: var(--accent);
            font-size: 1.2rem;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .quest-subtitle {
            font-size: 1rem;
            color: var(--light);
            margin-bottom: 10px;
        }

        .quest-year {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            display: inline-block;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .progress-line {
                left: 20px;
            }

            .quest-node {
                justify-content: flex-start;
                padding-left: 50px;
            }

            .checkpoint {
                left: 20px;
            }

            .quest-content,
            .quest-node:nth-child(odd) .quest-content,
            .quest-node:nth-child(even) .quest-content {
                width: 100%;
                margin: 0;
                text-align: left;
                transform: translateX(20px);
            }

            .quest-node.show .quest-content {
                transform: translateX(0);
            }

            .quest-node:nth-child(odd) .quest-content::after,
            .quest-node:nth-child(even) .quest-content::after {
                right: auto;
                left: -30px;
                width: 0;
            }

            .quest-node.active .quest-content::after {
                width: 30px;
            }
        }

        .chat-widget {
            position: fixed !important;
            bottom: 20px !important;
            right: 20px !important;
            left: auto !important;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .chat-btn {
            width: 60px;
            height: 60px;
            background-color: var(--accent);
            border: 2px solid var(--light);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.5);
            transition: all 0.3s ease;
            position: relative;
            z-index: 1001;
        }

        .chat-btn:hover {
            transform: scale(1.1);
        }

        .chat-btn i {
            font-size: 24px;
            color: var(--dark);
        }

        .chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background-color: rgba(34, 32, 52, 0.95);
            border: 2px solid var(--accent);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform-origin: bottom right;
            transform: scale(0);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .chat-window.open {
            transform: scale(1);
            opacity: 1;
        }

        .chat-header {
            background-color: var(--accent);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--dark);
            font-weight: bold;
            border-bottom: 2px solid var(--light);
        }

        .chat-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-close {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--dark);
            font-size: 18px;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.4;
            position: relative;
        }

        .message.bot {
            align-self: flex-start;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--light);
            border-bottom-left-radius: 0;
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--accent);
            color: var(--dark);
            border-bottom-right-radius: 0;
        }

        .chat-input-area {
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 5px;
            color: var(--light);
            font-family: 'Courier New', monospace;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .chat-send {
            background-color: transparent;
            border: none;
            color: var(--accent);
            cursor: pointer;
            font-size: 18px;
        }

        /* Quick replies */
        .quick-replies {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 5px;
        }

        .quick-reply-btn {
            background-color: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-reply-btn:hover {
            background-color: var(--accent);
            color: var(--dark);
        }

        @media (max-width: 480px) {
            .chat-window {
                width: calc(100vw - 40px);
                right: -10px;
                bottom: 70px;
            }
        }

        /* Mobile Responsive Navigation - Fullscreen Overlay */
        @media (max-width: 768px) {
            .nav-toggle {
                display: block;
                z-index: 10001;
                /* Ensure above mobile menu */
                background: transparent;
                border: none;
                cursor: pointer;
            }

            .hamburger,
            .hamburger::before,
            .hamburger::after {
                background-color: var(--light);
                transition: all 0.3s ease;
            }

            /* Change hamburger color to contrast with dark menu if needed */
            .nav[data-visible="true"]~.nav-toggle .hamburger {
                background: transparent;
            }

            .nav-toggle[aria-expanded="true"] .hamburger {
                background-color: transparent;
            }

            .nav {
                position: fixed;
                inset: 0;
                background: rgba(34, 32, 52, 0.98);
                /* Deep dark background */
                backdrop-filter: blur(15px);
                /* Strong glass effect */
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transform: translateX(100%);
                transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                /* Smooth momentum opening */
                z-index: 10000;
                padding-top: 0;
                height: 100vh;
                width: 100vw;
            }

            .nav[data-visible="true"] {
                transform: translateX(0);
            }

            .nav__list {
                flex-direction: column;
                gap: 40px;
                text-align: center;
                width: 100%;
                padding: 0;
            }

            .nav__item {
                transform: translateX(50px);
                opacity: 0;
                transition: all 0.4s ease;
            }

            /* Staggered animation for menu items */
            .nav[data-visible="true"] .nav__item:nth-child(1) {
                transition-delay: 0.1s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav[data-visible="true"] .nav__item:nth-child(2) {
                transition-delay: 0.2s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav[data-visible="true"] .nav__item:nth-child(3) {
                transition-delay: 0.3s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav[data-visible="true"] .nav__item:nth-child(4) {
                transition-delay: 0.4s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav[data-visible="true"] .nav__item:nth-child(5) {
                transition-delay: 0.5s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav[data-visible="true"] .nav__item:nth-child(6) {
                transition-delay: 0.6s;
                transform: translateX(0);
                opacity: 1;
            }

            .nav__link {
                font-size: 32px;
                /* Large tap targets */
                font-weight: 800;
                letter-spacing: 2px;
                display: block;
                padding: 15px;
                color: var(--light);
                text-transform: uppercase;
                position: relative;
            }

            .nav__link:hover {
                color: var(--accent);
                transform: scale(1.1);
            }

            /* Glowing hover effect for mobile */
            .nav__link:hover {
                text-shadow: 0 0 20px var(--accent);
            }

            /* Remove desktop hover line for cleaner mobile look */
            .nav__link::after {
                display: none;
            }
        }

        /* ========== GAME SECTION ========== */
        #game-section {
            text-align: center;
            padding: 100px 5%;
            position: relative;
            z-index: 10;
        }

        .game-preview-btn {
            padding: 15px 40px;
            font-size: 24px;
            background-color: var(--accent);
            color: var(--dark);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(255, 140, 0, 0.5);
            transition: all 0.3s ease;
            animation: pulse-btn 2s infinite;
            margin-top: 30px;
        }

        .game-preview-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 140, 0, 0.8);
        }

        @keyframes pulse-btn {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Game Modal */
        .game-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease;
            backdrop-filter: blur(5px);
        }

        .game-modal.active {
            opacity: 1;
        }

        .game-container {
            position: relative;
            width: 400px;
            /* Fixed width for Flappy Bird style */
            height: 600px;
            background-color: #70c5ce;
            /* Sky blue */
            border: 4px solid var(--accent);
            border-radius: 10px;
            overflow: hidden;
            transform: scale(0.8);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        .game-modal.active .game-container {
            transform: scale(1);
        }

        #gameCanvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .game-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px black;
            pointer-events: none;
            width: 100%;
        }

        .game-overlay h2 {
            font-size: 40px;
            margin-bottom: 10px;
            color: var(--accent);
            font-family: 'Courier New', monospace;
        }

        .game-overlay p {
            font-size: 20px;
            font-family: 'Courier New', monospace;
        }

        .game-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s;
        }

        .game-close-btn:hover {
            background: rgba(255, 0, 0, 0.7);
        }

        @media (max-width: 500px) {
            .game-container {
                width: 95%;
                height: 80vh;
            }
        }
    </style>

    <!-- ========== HERO SECTION ========== -->
    <section id="home" class="hero" style="padding-bottom: 100px;">
        <!-- Parallax background layers -->
        <div class="parallax-layer parallax-back" data-speed="0.5"></div>
        <div class="parallax-layer parallax-bg" data-speed="0.3"></div>

        <h1>Hi, I'm <span>Chinmay</span><br>Creating Digital Magic</h1>
        <p class="typewriter">Next-gen developer blending technical mastery with pixel-perfect design.</p>

        <div class="hero-buttons">
            <a href="#projects" class="btn btn-primary">View My Work</a>
            <a href="#contact" class="btn btn-secondary">Contact Me</a>
        </div>

        <div class="scroll-indicator">
            <div class="scroll-text">SCROLL DOWN</div>
            <div class="scroll-icon"></div>
        </div>

        <!-- 3D rotating cube -->
        <div class="cube-container">
            <div class="cube">
                <div class="face front">DEV</div>
                <div class="face back">WEB</div>
                <div class="face left">UI/UX</div>
                <div class="face right">CODE</div>
                <div class="face top">PIXEL</div>
                <div class="face bottom">ART</div>
            </div>
        </div>
    </section>

    <!-- ========== 3D CAROUSEL SECTION ========== -->
    <div class="carousel-container">
        <div class="carousel">
            <img src="assets/gif/obito_tumbs_up.gif" alt="Obito Uchiha giving a thumbs up">
            <img src="assets/gif/goku.gif" alt="Goku powering up">
            <img src="assets/gif/obito_tumbs_up.gif" alt="Obito Uchiha giving a thumbs up again">
        </div>
    </div>

    <!-- ========== SKILLS SECTION ========== -->
    <section id="skills">
        <div class="section-header">
            <h2>Technical Arsenal</h2>
        </div>

        <div class="skills-marquee-container">
            <div class="skills-track">
                <!-- Items will be duplicated by JS for seamless loop, but we list them once here -->

                <!-- Frontend & Mobile -->
                <div class="skill-item">
                    <i class="fab fa-html5 skill-icon" style="color: #E34F26;"></i>
                    <span class="skill-name">HTML5</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-css3-alt skill-icon" style="color: #1572B6;"></i>
                    <span class="skill-name">CSS3</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-js skill-icon" style="color: #F7DF1E;"></i>
                    <span class="skill-name">JavaScript</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-react skill-icon" style="color: #61DAFB;"></i>
                    <span class="skill-name">React</span>
                </div>
                <!-- Added jQuery -->
                <div class="skill-item">
                    <i class="fas fa-code skill-icon" style="color: #0769AD;"></i>
                    <span class="skill-name">jQuery</span>
                </div>
                <!-- Added AJAX -->
                <div class="skill-item">
                    <i class="fas fa-sync skill-icon" style="color: #28cf75;"></i>
                    <span class="skill-name">AJAX</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-bootstrap skill-icon" style="color: #7952B3;"></i>
                    <span class="skill-name">Bootstrap</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-wind skill-icon" style="color: #38B2AC;"></i>
                    <span class="skill-name">Tailwind</span>
                </div>
                <!-- Added Flutter -->
                <div class="skill-item">
                    <i class="fas fa-mobile-alt skill-icon" style="color: #02569B;"></i>
                    <span class="skill-name">Flutter</span>
                </div>

                <!-- Backend & Languages -->
                <!-- Added Java -->
                <div class="skill-item">
                    <i class="fab fa-java skill-icon" style="color: #007396;"></i>
                    <span class="skill-name">Java</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-python skill-icon" style="color: #3776AB;"></i>
                    <span class="skill-name">Python</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-database skill-icon" style="color: #00758F;"></i>
                    <span class="skill-name">MySQL</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-fire skill-icon" style="color: #FFCA28;"></i>
                    <span class="skill-name">Firebase</span>
                </div>

                <!-- Tools & Platforms -->
                <div class="skill-item">
                    <i class="fab fa-git-alt skill-icon" style="color: #F05032;"></i>
                    <span class="skill-name">Git</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-github skill-icon" style="color: #181717;"></i>
                    <span class="skill-name">GitHub</span>
                </div>
                <!-- Added Android Studio -->
                <div class="skill-item">
                    <i class="fab fa-android skill-icon" style="color: #3DDC84;"></i>
                    <span class="skill-name">Android Studio</span>
                </div>
                <!-- Added Jupyter -->
                <div class="skill-item">
                    <i class="fas fa-book skill-icon" style="color: #F37626;"></i>
                    <span class="skill-name">Jupyter</span>
                </div>
                <!-- Added Colab -->
                <div class="skill-item">
                    <i class="fas fa-infinity skill-icon" style="color: #F9AB00;"></i>
                    <span class="skill-name">Colab</span>
                </div>
                <!-- Added Vercel -->
                <div class="skill-item">
                    <i class="fas fa-caret-up skill-icon" style="color: #FFFFFF;"></i>
                    <span class="skill-name">Vercel</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-terminal skill-icon" style="color: #4D4D4D;"></i>
                    <span class="skill-name">Bash</span>
                </div>
                <div class="skill-item">
                    <i class="fab fa-npm skill-icon" style="color: #CB3837;"></i>
                    <span class="skill-name">NPM</span>
                </div>

                <!-- Design -->
                <div class="skill-item">
                    <i class="fab fa-figma skill-icon" style="color: #F24E1E;"></i>
                    <span class="skill-name">Figma</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-pen-nib skill-icon" style="color: #FF61F6;"></i>
                    <span class="skill-name">Canva</span>
                </div>
                <div class="skill-item">
                    <i class="fas fa-palette skill-icon" style="color: #fdcb6e;"></i>
                    <span class="skill-name">UI Design</span>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== GAME SECTION ========== -->
    <section id="game-section">
        <div class="section-header">
            <h2>Ninja Adventure</h2>
            <p>Bored? Help Obito navigate through the obstacles!</p>
        </div>

        <div style="display: flex; justify-content: center;">
            <div class="pixel-art-preview" style="width: 100px; height: 100px; animation: bounce 2s infinite;">
                <img src="assets/obito_flappy.png" alt="Obito Pixel" style="width: 100%; image-rendering: pixelated;">
            </div>
        </div>

        <button class="game-preview-btn" id="openGameBtn">PLAY GAME</button>
    </section>



    <!-- ========== PROJECTS SECTION ========== -->
    <section id="projects">
        <div class="section-header">
            <h2>Recent Projects</h2>
        </div>

        <!-- Category Navigation -->
        <div class="project-categories">
            <button class="category-btn active" data-category="all">All</button>
            <button class="category-btn" data-category="software">Software Dev</button>
            <button class="category-btn" data-category="ai-ml">AI & ML</button>
            <button class="category-btn" data-category="cyber-security">Cyber Security</button>
        </div>

        <div class="projects-container">
            <!-- Project 1 -->
            <!-- Project 1 (Software) -->
            <div class="project-card" data-category="software">
                <div class="project-image">
                    <img src="assets/savishkaara.png" alt="Savishkaara screenshot" />
                    <div class="project-tags">
                        <span class="project-tag">HTML</span>
                        <span class="project-tag">CSS</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Savishkaara</h3>
                    <p>Developed website for technical event savishkaara for amrita kochi campus.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('assets/videos/savishkaara_preview.gif')">Preview</a>
                        <a href="https://github.com/obito8010/savishkaara" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- Project 2 -->
            <!-- Project 2 (Software) -->
            <!-- Project 2 (Software) -->
            <div class="project-card" data-category="software">
                <div class="project-image">
                    <img src="assets/swiggy_ui_clone.png" alt="Swiggy UI Clone screenshot" />
                    <div class="project-tags">
                        <span class="project-tag">Figma</span>
                        <span class="project-tag">UI/UX</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Swiggy UI</h3>
                    <p>Created a Swiggy UI clone in Figma, designing multiple screens with consistent layouts,
                        typography, and reusable assets to simulate a real food-delivery application.</p>
                    <div class="project-links">
                        <a href="https://www.figma.com/proto/DbZi9C1VOJ4PI2PIrVO8l7/swiggy_Assignment?node-id=37-276&t=8FysV74g6IotIG7f-1&scaling=scale-down&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=7%3A127&show-proto-sidebar=1"
                            class="live">Play Demo</a>
                        <a href="https://www.figma.com/design/DbZi9C1VOJ4PI2PIrVO8l7/swiggy_Assignment?node-id=37-276&t=rLIBwnKsc1Nkm6B2-1"
                            class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- Project 3 -->
            <!-- Project 3 (Software) -->
            <!-- Project 3 (Software) -->
            <div class="project-card" data-category="software">
                <div class="project-image">
                    <img src="assets/collaborative_paint_app.png" alt="Collaborative Paint App screenshot" />
                    <div class="project-tags">
                        <span class="project-tag">React</span>
                        <span class="project-tag">Express</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Collaborative Paint App</h3>
                    <p>Developed a collaborative paint app where multiple people can draw together using websocket with
                        ai features.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('assets/videos/collabrative_paintapp.gif')">Preview</a>
                        <a href="https://github.com/obito8010/Collaborative-Paint-App" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- Project 4 -->
            <!-- Project 4 (Software) -->
            <!-- Project 4 -->
            <!-- Project 4 (Software) -->
            <div class="project-card" data-category="software">
                <div class="project-image">
                    <img src="assets/docbuddy.png" alt="DocBuddy screenshot" />
                    <div class="project-tags">
                        <span class="project-tag">Flutter</span>
                        <span class="project-tag">Dart</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>DocBuddy</h3>
                    <p>Flutter based Pocket doctor app with chatbot, voice interaction, and gamified water and
                        medication reminders.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('preview-text:Preview available soon')">Preview</a>
                        <a href="https://github.com/obito8010/DocBuddyNew" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- Project 5 (Software - New) -->
            <div class="project-card" data-category="software">
                <div class="project-image">
                    <img src="assets/dreambuilder.png" alt="Dream Builder screenshot" />
                    <div class="project-tags">
                        <span class="project-tag">Django</span>
                        <span class="project-tag">Android Studio</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Dream Builder</h3>
                    <p>Cross-platform web and Android app for work assignment, progress tracking, and dealer-based
                        material management.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('preview-text:Preview available soon stay tuned')">Preview</a>
                        <a href="https://github.com/obito8010/DreamBuilder" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- AI & ML Projects -->
            <div class="project-card" data-category="ai-ml">
                <div class="project-image">
                    <img src="assets/consumer_complaint.png" alt="Consumer Complaint Classification System" />
                    <div class="project-tags">
                        <span class="project-tag">Python</span>
                        <span class="project-tag">Streamlit</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Consumer Complaint Classification System</h3>
                    <p>Built a machine learning solution to classify consumer complaint texts into four categories using
                        TF-IDF and
                        Logistic Regression.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('preview-text:Preview available soon')">Preview</a>
                        <a href="https://github.com/obito8010/kaiburr-text-classification" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <div class="project-card" data-category="ai-ml">
                <div class="project-image">
                    <img src="assets/bangalore_housing.png" alt="Bangalore House Price Prediction System" />
                    <div class="project-tags">
                        <span class="project-tag">Python</span>
                        <span class="project-tag">Streamlit</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Bangalore House Price Prediction System</h3>
                    <p>Developed a Bangalore house price prediction system using machine learning, based on location,
                        area, and housing features.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('preview-text:Preview available soon')">Live Preview</a>
                        <a href="https://github.com/obito8010/House_Price_Prediction" class="code">View Code</a>
                    </div>
                </div>
            </div>

            <!-- Cyber Security Projects -->
            <div class="project-card" data-category="cyber-security">
                <div class="project-image">
                    <img src="assets/phishing_url.png" alt="Phishing URL Detection" />
                    <div class="project-tags">
                        <span class="project-tag">Flask</span>
                        <span class="project-tag">ML</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Phishing URL Detection using ML</h3>
                    <p>Phishing URL Detection System is a web-based application that analyzes user-entered URLs and
                        classifies them as safe or phishing using machine learning techniques.</p>
                    <div class="project-links">
                        <a href="javascript:void(0)" class="live"
                            onclick="openModal('preview-text:Preview available soon')">Preview</a>
                        <a href="javascript:void(0)" class="code"
                            onclick="openModal('preview-text:Code will be available soon in GitHub')">View Code</a>
                    </div>
                </div>
            </div>


        </div>
    </section>

    <!-- ========== EDUCATION SECTION ========== -->
    <section id="education">
        <div class="section-header">
            <h2>Education Questline</h2>
            <p>My academic journey & milestones</p>
        </div>

        <div class="education-container">
            <div class="progress-line">
                <div class="progress-line-fill"></div>
            </div>

            <!-- Level 3: MCA -->
            <div class="quest-node">
                <div class="checkpoint"></div>
                <div class="quest-content">
                    <div class="quest-title">Master of Computer Applications (MCA)</div>
                    <div class="quest-subtitle">Amrita Vishwa Vidyapeetham, Kochi</div>
                    <div class="quest-year">2024 - 2026</div>
                </div>
            </div>

            <!-- Level 2: BCA -->
            <div class="quest-node">
                <div class="checkpoint"></div>
                <div class="quest-content">
                    <div class="quest-title">Bachelor of Computer Applications (BCA)</div>
                    <div class="quest-subtitle">Kannur University</div>
                    <div class="quest-year">2021 - 2024</div>
                </div>
            </div>

            <!-- Level 1: High School -->
            <div class="quest-node">
                <div class="checkpoint"></div>
                <div class="quest-content">
                    <div class="quest-title">High School</div>
                    <div class="quest-subtitle">Indira Gandhi Public School</div>
                    <div class="quest-year">2020 - 2021</div>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== CONTACT SECTION ========== -->
    <section id="contact">
        <div class="section-header">
            <h2>Get In Touch</h2>
            <p>Let's create something amazing together</p>
        </div>
        <div class="contact-container">
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div class="contact-item-content">
                        <h3>Email</h3>
                        <p>chinmay.saseendran@gmail.com</p>
                    </div>
                </div>

                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div class="contact-item-content">
                        <h3>Location</h3>
                        <p>Kerala, India</p>
                    </div>
                </div>
            </div>
            <form class="contact-form" action="https://formsubmit.co/chinmay.saseendran@gmail.com" method="POST">
                <!-- Honeycomb security -->
                <input type="text" name="_honey" style="display:none">
                <!-- Disable Captcha -->
                <input type="hidden" name="_captcha" value="false">
                <!-- Next page redirect (optional, currently staying on page or default) -->
                <!-- <input type="hidden" name="_next" value="https://chinmay-portfolio.com/thanks.html"> -->

                <div class="form-group">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <label for="email">Your Email</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="message">Your Message</label>
                    <textarea id="message" name="message" placeholder="Tell me about your project" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Send Message</button>
            </form>
        </div>
    </section>

    <!-- ========== FOOTER SECTION ========== -->
    <footer>
        <div class="social-links">
            <a href="https://github.com/obito8010"><i class="fab fa-github"></i></a>
            <!--<a href="#"><i class="fab fa-twitter"></i></a>-->
            <a href="https://www.linkedin.com/in/chinmay-saseendran/"><i class="fab fa-linkedin-in"></i></a>
            <!--<a href="#"><i class="fab fa-dribbble"></i></a>-->
            <a href="https://www.instagram.com/chinmay8010"><i class="fab fa-instagram"></i></a>
        </div>
        <div class="copyright"> 2024 portfolio. All rights reserved.</div>
    </footer>

    <!-- ========== DYNAMIC PIXEL ART ========== -->
    <!-- <div class="pixel-art" id="pixelArt"></div> -->



    <!-- ========== CHATBOT ========== -->
    <div class="chat-widget">
        <button class="chat-btn" id="chatBtn">
            <i class="fas fa-robot"></i>
        </button>

        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-title">
                    <i class="fas fa-terminal"></i>
                    <span>ChinmayBot v1.0</span>
                </div>
                <button class="chat-close" id="chatClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be added here -->
            </div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type a command...">
                <button class="chat-send" id="chatSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- ========== PREVIEW MODAL ========== -->
    <div id="previewModal" class="modal">
        <span class="close-modal">&times;</span>
        <div class="modal-content">
            <img id="previewImage" src="" alt="Project Preview">
            <div id="previewText"
                style="display: none; padding: 40px; text-align: center; color: var(--accent); font-size: 24px; font-weight: bold;">
            </div>
        </div>
    </div>

    <!-- Game Modal -->
    <div class="game-modal" id="gameModal">
        <div class="game-container">
            <button class="game-close-btn" id="closeGameBtn">&times;</button>
            <canvas id="gameCanvas" width="400" height="600"></canvas>
            <div class="game-overlay" id="gameOverlay" style="color: white;">
                <h2 id="msgHeading">Tap to Start</h2>
                <p id="msgScore"></p>
            </div>
        </div>
    </div>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        // ========== FLOATING PIXELS ANIMATION ==========
        const animatedPixels = document.getElementById('animatedPixels');

        /**
         * Creates floating pixel elements with random properties
         */
        function createPixels() {
            for (let i = 0; i < 50; i++) {
                const pixel = document.createElement('div');
                pixel.classList.add('pixel');

                // Random positioning and sizing
                pixel.style.left = `${Math.random() * 100}%`;
                pixel.style.top = `${Math.random() * 100}%`;
                pixel.style.width = `${Math.random() * 5 + 2}px`;
                pixel.style.height = pixel.style.width;

                // Random color within blue/purple range
                pixel.style.backgroundColor = `hsl(${Math.random() * 60 + 200}, 70%, 50%)`;

                // Random animation timing
                pixel.style.animationDuration = `${Math.random() * 10 + 5}s`;
                pixel.style.animationDelay = `${Math.random() * 5}s`;

                animatedPixels.appendChild(pixel);
            }
        }
        createPixels();

        // ========== CUSTOM CURSOR ==========
        const cursor = document.getElementById('pixelCursor');

        // Track mouse movement
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = `${e.clientX}px`;
            cursor.style.top = `${e.clientY}px`;
        });

        // Cursor interaction with clickable elements
        document.querySelectorAll('a, button').forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
                cursor.style.backgroundColor = 'white';
            });
            el.addEventListener('mouseleave', () => {
                cursor.style.transform = 'translate(-50%, -50%)';
                cursor.style.backgroundColor = 'var(--accent)';
            });
        });

        let hasScrolled = false;
        const scrollIndicator = document.querySelector('.scroll-indicator');

        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY;
            const heroImage = document.querySelector('.hero-image');

            // Parallax effect for hero image if exists
            if (heroImage) {
                heroImage.style.transform = `translateY(${-scrollPosition * 0.2}px)`;
            }

            // Rotate pixel art based on scroll position
            const pixelArtElement = document.querySelector('.pixel-art');
            if (pixelArtElement) {
                pixelArtElement.style.transform = `rotate(${scrollPosition * 0.2}deg) scale(${0.8 + scrollPosition * 0.0005})`;
            }

            // Hide scroll indicator after initial scroll
            if (scrollPosition > 10 && !hasScrolled) {
                if (scrollIndicator) {
                    scrollIndicator.style.opacity = '0';
                    scrollIndicator.style.pointerEvents = 'none';
                }
                hasScrolled = true;
            }
        });

        // ========== MOBILE NAVIGATION TOGGLE ==========
        const navToggle = document.querySelector('.nav-toggle');
        const nav = document.querySelector('.nav');

        navToggle.addEventListener('click', () => {
            const visibility = nav.getAttribute('data-visible');

            if (visibility === "false") {
                nav.setAttribute('data-visible', "true");
                navToggle.setAttribute('aria-expanded', "true");
            } else {
                nav.setAttribute('data-visible', "false");
                navToggle.setAttribute('aria-expanded', "false");
            }
        });

        // Close mobile nav when clicking on a link
        document.querySelectorAll('.nav__link').forEach(link => {
            link.addEventListener('click', () => {
                nav.setAttribute('data-visible', "false");
                navToggle.setAttribute('aria-expanded', "false");
            });
        });
        // ========== PROJECT FILTERING ==========
        const categoryBtns = document.querySelectorAll('.category-btn');
        const projectCards = document.querySelectorAll('.project-card');

        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all buttons
                categoryBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                btn.classList.add('active');

                // Add glitch effect
                btn.classList.add('glitch-active');
                setTimeout(() => {
                    btn.classList.remove('glitch-active');
                }, 300);

                const category = btn.getAttribute('data-category');

                projectCards.forEach(card => {
                    // Reset animation
                    card.classList.remove('show');

                    if (category === 'all' || card.getAttribute('data-category') === category) {
                        card.classList.remove('hide');
                        // Small delay to trigger animation
                        setTimeout(() => {
                            card.classList.add('show');
                        }, 10);
                    } else {
                        card.classList.add('hide');
                    }
                });
            });
        });
        // ========== CHATBOT LOGIC ==========
        const chatBtn = document.getElementById('chatBtn');
        const chatWindow = document.getElementById('chatWindow');
        const chatClose = document.getElementById('chatClose');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const chatSend = document.getElementById('chatSend');

        // Knowledge Base
        const knowledgeBase = {
            greetings: ["Hi there! I'm Chinmay's AI assistant. How can I help you?", "Hello! Welcome to the portfolio. Ask me anything!"],
            skills: "Chinmay is proficient in HTML5, CSS3, JavaScript, React, and UI/UX Design. He also dabbles in Game Dev!",
            projects: "Some recent projects include the Pixel Art Generator, Retro Space Adventure, and this Portfolio itself! Check out the Projects section for more.",
            contact: "You can reach Chinmay at chinmay.saseendran@gmail.com.",
            about: "Chinmay is a passionate developer who loves blending technical skills with creative design. He enjoys pixel art and retro aesthetics.",
            default: "I'm not sure about that. Try asking about 'skills', 'projects', or 'contact'."
        };

        // Toggle Chat Window
        function toggleChat() {
            if (isDragging) return;
            chatWindow.classList.toggle('open');
            if (chatWindow.classList.contains('open') && chatMessages.children.length === 0) {
                // Add initial greeting if empty
                setTimeout(() => {
                    addMessage(knowledgeBase.greetings[Math.floor(Math.random() * knowledgeBase.greetings.length)], 'bot');
                    addQuickReplies();
                }, 500);
            }
        }

        chatBtn.addEventListener('click', toggleChat);
        chatClose.addEventListener('click', toggleChat);

        // Add Message to Chat
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Add Quick Replies
        function addQuickReplies() {
            const quickRepliesDiv = document.createElement('div');
            quickRepliesDiv.classList.add('quick-replies');

            const options = ['Skills', 'Projects', 'Contact', 'About'];

            options.forEach(option => {
                const btn = document.createElement('button');
                btn.classList.add('quick-reply-btn');
                btn.textContent = option;
                btn.addEventListener('click', () => handleInput(option.toLowerCase()));
                quickRepliesDiv.appendChild(btn);
            });

            chatMessages.appendChild(quickRepliesDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Handle User Input
        function handleInput(text) {
            if (!text.trim()) return;

            // Remove quick replies if they exist
            const existingQuickReplies = document.querySelector('.quick-replies');
            if (existingQuickReplies) existingQuickReplies.remove();

            addMessage(text, 'user');
            chatInput.value = '';

            // Simulate bot thinking
            setTimeout(() => {
                const lowerText = text.toLowerCase();
                let response = knowledgeBase.default;

                // Improved matching logic
                if (lowerText.match(/^(hi|hello|hey|greetings)/)) {
                    response = knowledgeBase.greetings[0];
                } else if (lowerText.match(/who is chinmay|about him|tell me about|who are you/)) {
                    response = knowledgeBase.about;
                } else if (lowerText.match(/contact|email|phone|reach|call/)) {
                    response = knowledgeBase.contact;
                } else if (lowerText.match(/skill|stack|technology|tech|know/)) {
                    response = knowledgeBase.skills;
                } else if (lowerText.match(/project|work|portfolio|built|create/)) {
                    response = knowledgeBase.projects;
                }

                addMessage(response, 'bot');

                // Re-add quick replies after a delay
                setTimeout(addQuickReplies, 1000);
            }, 800);
        }

        chatSend.addEventListener('click', () => handleInput(chatInput.value));
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleInput(chatInput.value);
        });

        // ========== DRAGGABLE CHAT WIDGET ==========
        const chatWidget = document.querySelector('.chat-widget');
        let isDragging = false;
        let currentX;
        let currentY;
        let initialX;
        let initialY;
        let xOffset = 0;
        let yOffset = 0;

        chatWidget.addEventListener("mousedown", dragStart);
        document.addEventListener("mouseup", dragEnd);
        document.addEventListener("mousemove", drag);

        // Touch events for mobile
        chatWidget.addEventListener("touchstart", dragStart, { passive: false });
        document.addEventListener("touchend", dragEnd);
        document.addEventListener("touchmove", drag, { passive: false });
        function setTranslate(xPos, yPos, el) {
            el.style.transform = `translate3d(${xPos}px, ${yPos}px, 0)`;
        }

        // Improved Drag Logic to prevent blocking clicks
        let isDown = false;
        let dragThreshold = 5;
        let startXCoord = 0;
        let startYCoord = 0;

        function dragStart(e) {
            if (e.target.closest('.chat-window') || e.target.closest('.chat-close')) {
                return;
            }

            if (e.target === chatBtn || e.target.closest('.chat-btn')) {
                isDown = true;
                isDragging = false; // Reset dragging state

                if (e.type === "touchstart") {
                    initialX = e.touches[0].clientX - xOffset;
                    initialY = e.touches[0].clientY - yOffset;
                    startXCoord = e.touches[0].clientX;
                    startYCoord = e.touches[0].clientY;
                } else {
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                    startXCoord = e.clientX;
                    startYCoord = e.clientY;
                }
            }
        }

        function dragEnd(e) {
            initialX = currentX;
            initialY = currentY;
            isDown = false;

            // Delay resetting isDragging slightly to allow click event to check it if needed
            setTimeout(() => {
                isDragging = false;
            }, 50);
        }

        function drag(e) {
            if (!isDown) return;

            let clientX, clientY;
            if (e.type === "touchmove") {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }

            // Check if moved enough to consider it a drag
            if (!isDragging) {
                const dx = Math.abs(clientX - startXCoord);
                const dy = Math.abs(clientY - startYCoord);
                if (dx > dragThreshold || dy > dragThreshold) {
                    isDragging = true;
                }
            }

            if (isDragging) {
                e.preventDefault();
                currentX = clientX - initialX;
                currentY = clientY - initialY;

                xOffset = currentX;
                yOffset = currentY;

                setTranslate(currentX, currentY, chatWidget);
            }
        }
        // ========== EDUCATION ROUTE MAP ANIMATION ==========
        const educationSection = document.getElementById('education');
        const progressLineFill = document.querySelector('.progress-line-fill');
        const questNodes = document.querySelectorAll('.quest-node');

        function updateRouteMap() {
            if (!educationSection || !progressLineFill) return;

            const sectionTop = educationSection.offsetTop;
            const sectionHeight = educationSection.offsetHeight;
            const scrollY = window.scrollY;
            const windowHeight = window.innerHeight;

            // Calculate progress through the section
            // Start filling when the section comes into view (e.g., when top is at 70% of viewport)
            const startOffset = windowHeight * 0.7;
            const relativeScroll = scrollY + startOffset - sectionTop;

            let progress = (relativeScroll / sectionHeight) * 100;

            // Clamp progress between 0 and 100
            progress = Math.max(0, Math.min(100, progress));

            progressLineFill.style.height = `${progress}%`;

            // Animate nodes based on their position
            questNodes.forEach(node => {
                const nodeTop = node.getBoundingClientRect().top;
                const triggerPoint = windowHeight * 0.8; // Trigger when node is 80% down the viewport

                if (nodeTop < triggerPoint) {
                    node.classList.add('show');
                } else {
                    // Optional: remove class to replay animation when scrolling up
                    // node.classList.remove('show'); 
                }

                // Activate node when the progress line passes it (approximate vertical center of node)
                // We can use the progress line height relative to the node
                const nodeRelativeTop = node.offsetTop;
                if (relativeScroll > nodeRelativeTop + 50) { // +50 to pass the checkpoint
                    node.classList.add('active');
                } else {
                    node.classList.remove('active');
                }
            });
        }

        window.addEventListener('scroll', updateRouteMap);
        window.addEventListener('resize', updateRouteMap);
        // Initial check
        updateRouteMap();

        // ========== SKILLS MARQUEE ANIMATION ==========
        const skillsTrack = document.querySelector('.skills-track');

        function setupMarquee() {
            if (!skillsTrack) return;

            // 1. Get original items
            // We use 'children' and filter to ensure we don't count previous clones if function re-runs
            const originalItems = Array.from(skillsTrack.children).filter(c => !c.hasAttribute('aria-hidden'));

            // 2. Clear track to rebuild it
            skillsTrack.innerHTML = '';

            // 3. Define "Base Group" needed to fill screen + buffer
            // We keep appending original items until their combined width is safely larger than screen
            // or at least minimum width.
            const screenWidth = window.innerWidth;
            let currentContentWidth = 0;
            const gap = 40; // CSS gap

            // Calculate width of one original set
            originalItems.forEach(item => {
                currentContentWidth += item.offsetWidth + gap;
            });

            // Ensure we have at least these items
            let baseGroup = [...originalItems];
            let baseWidth = currentContentWidth;

            // Repeat base group until it's wider than screen (plus buffer)
            // This ensures "one cycle" of animation covers the full viewport
            while (baseWidth < screenWidth + 500) {
                baseGroup = baseGroup.concat(originalItems.map(item => item.cloneNode(true)));
                baseWidth += currentContentWidth;
            }

            // 4. Append Base Group (This is the "First Half" of the animation)
            const baseFragment = document.createDocumentFragment();
            baseGroup.forEach(item => baseFragment.appendChild(item));
            skillsTrack.appendChild(baseFragment);

            // 5. Append Duplicate Group (This is the "Second Half" for the loop)
            // We clone the ENTIRE base group we just created
            baseGroup.forEach(item => {
                const clone = item.cloneNode(true);
                clone.setAttribute('aria-hidden', 'true');
                skillsTrack.appendChild(clone);
            });

            // Now strictly: Track Width = 2 * Base Width
            // Animation moves -50% (which is exactly -1 * Base Width)
            // Since Base Width > Screen Width, the transition is seamless.
        }

        // Run on load to ensure dimensions are correct
        if (document.readyState === 'complete') {
            setupMarquee();
        } else {
            window.addEventListener('load', setupMarquee);
        }

        // Also call immediately just in case (e.g. if loaded via instant navigation)
        setupMarquee();

        // Debounce resize event to re-calculate if screen gets significantly larger
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(setupMarquee, 200);
        });

        // ========== PREVIEW MODAL LOGIC ==========
        const modal = document.getElementById("previewModal");
        const modalImg = document.getElementById("previewImage");
        const modalText = document.getElementById("previewText");
        const span = document.getElementsByClassName("close-modal")[0];

        function openModal(content) {
            modal.style.display = "flex";

            if (content.startsWith("preview-text:")) {
                // Show text
                modalImg.style.display = "none";
                modalText.style.display = "block";
                modalText.innerText = content.replace("preview-text:", "");
                modalImg.src = "";
            } else {
                // Show image
                modalImg.style.display = "block";
                modalText.style.display = "none";
                modalImg.src = content;
            }
        }

        span.onclick = function () {
            modal.style.display = "none";
            modalImg.src = ""; // Clear source
        }

        // Close modal when clicking outside the image
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
                modalImg.src = "";
            }
        }

        // ========== NINJA RUNNER GAME LOGIC (EASIER + COINS) ==========
        const gameModal = document.getElementById('gameModal');
        const openGameBtn = document.getElementById('openGameBtn');
        const closeGameBtn = document.getElementById('closeGameBtn');
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const gameOverlay = document.getElementById('gameOverlay');
        const msgHeading = document.getElementById('msgHeading');
        const msgScore = document.getElementById('msgScore');

        // Game Variables
        let frames = 0;
        let gameState = 'getReady'; // 'getReady', 'playing', 'gameOver'
        let loopId;
        const GROUND_Y = canvas.height - 20; // 20px is fg height

        // Load Sprite
        const sprite = new Image();
        sprite.src = 'assets/obito_flappy.png';

        // Obito Runner Object
        const obito = {
            x: 50,
            y: 300,
            w: 60,
            h: 60,
            radius: 20,

            frame: 0,
            velocity: 0,
            gravity: 0.5,
            jumpStrength: 11,
            jumpCount: 0, // Track jumps

            draw: function () {
                if (sprite.complete) {
                    ctx.save();
                    ctx.translate(this.x, this.y);
                    if (gameState === 'playing' && this.y >= GROUND_Y - this.h / 2 - 1) {
                        ctx.rotate(Math.sin(frames * 0.2) * 0.1);
                    }
                    ctx.drawImage(sprite, -this.w / 2, -this.h / 2, this.w, this.h);
                    ctx.restore();
                } else {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = "orange";
                    ctx.fill();
                    ctx.closePath();
                }
            },

            jump: function () {
                // Double jump logic
                if (this.jumpCount < 2) {
                    this.velocity = -this.jumpStrength;
                    this.jumpCount++;
                }
            },

            update: function () {
                if (gameState == 'getReady') {
                    this.y = (GROUND_Y - this.h / 2) - 10 + Math.cos(frames / 10) * 5;
                    this.velocity = 0;
                    this.jumpCount = 0;
                } else {
                    this.velocity += this.gravity;
                    this.y += this.velocity;

                    if (this.y + this.h / 2 >= GROUND_Y) {
                        this.y = GROUND_Y - this.h / 2;
                        this.velocity = 0;
                        this.jumpCount = 0; // Reset jump on ground
                    }
                }
            },
            reset: function () {
                this.velocity = 0;
                this.y = GROUND_Y - this.h / 2;
                this.jumpCount = 0;
            }
        };

        // Coins
        const coins = {
            position: [],
            w: 30,
            h: 30,
            dx: 4,

            draw: function () {
                for (let i = 0; i < this.position.length; i++) {
                    let c = this.position[i];
                    ctx.fillStyle = "#FFD700";
                    ctx.beginPath();
                    ctx.arc(c.x, c.y, this.w / 2, 0, Math.PI * 2);
                    ctx.fill();

                    ctx.strokeStyle = "#F39C12";
                    ctx.lineWidth = 2;
                    ctx.stroke();

                    ctx.fillStyle = "#FFF";
                    ctx.font = "20px Arial";
                    ctx.fillText("$", c.x - 6, c.y + 7);
                }
            },

            update: function () {
                if (gameState !== 'playing') return;

                // Spawn coins
                if (frames % 100 == 0) {
                    let isAir = Math.random() > 0.5;
                    this.position.push({
                        x: canvas.width + 50,
                        y: isAir ? GROUND_Y - 90 : GROUND_Y - 40,
                        collected: false
                    });
                }

                for (let i = 0; i < this.position.length; i++) {
                    let c = this.position[i];
                    c.x -= this.dx;

                    if (c.x + this.w < 0) {
                        this.position.shift();
                        i--;
                        continue;
                    }

                    // Collision
                    if (!c.collected) {
                        let dx = obito.x - c.x;
                        let dy = obito.y - c.y;
                        let distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < obito.radius + this.w / 2 + 10) {
                            c.collected = true;
                            score.value += 5; // Bonus for coins
                            this.position.splice(i, 1);
                            i--;
                        }
                    }
                }
            },

            reset: function () {
                this.position = [];
            }
        };

        // Obstacles
        const obstacles = {
            position: [],
            dx: 4,

            draw: function () {
                for (let i = 0; i < this.position.length; i++) {
                    let p = this.position[i];

                    if (p.type === 'spike') {
                        ctx.fillStyle = "#e74c3c";
                        ctx.beginPath();
                        ctx.moveTo(p.x, GROUND_Y);
                        ctx.lineTo(p.x + p.w / 2, GROUND_Y - p.h);
                        ctx.lineTo(p.x + p.w, GROUND_Y);
                        ctx.fill();
                    } else if (p.type === 'rock') {
                        ctx.fillStyle = "#7f8c8d";
                        ctx.beginPath();
                        ctx.arc(p.x + p.w / 2, GROUND_Y - p.h / 2, p.h / 2, 0, Math.PI * 2);
                        ctx.fill();
                    } else if (p.type === 'block') {
                        ctx.fillStyle = "#8e44ad";
                        ctx.fillRect(p.x, GROUND_Y - p.h, p.w, p.h);
                    }
                }
            },

            update: function () {
                if (gameState !== 'playing') return;

                // Add new obstacle - Increased spacing
                if (frames % 150 == 0) {
                    let typeRand = Math.random();
                    let type = 'spike';
                    let h = 50;
                    let w = 40;

                    if (typeRand < 0.33) {
                        type = 'rock';
                        h = 40; w = 40;
                    } else if (typeRand < 0.66) {
                        type = 'block';
                        h = 45; w = 45;
                    }

                    this.position.push({
                        x: canvas.width,
                        y: GROUND_Y,
                        w: w,
                        h: h,
                        type: type
                    });
                }

                for (let i = 0; i < this.position.length; i++) {
                    let p = this.position[i];
                    p.x -= this.dx;

                    if (p.x + p.w <= 0) {
                        this.position.shift();
                        score.value += 1;
                        score.best = Math.max(score.value, score.best);
                        localStorage.setItem('ninja_runner_best', score.best);
                        i--;
                    }

                    // Collision
                    let obsRect = {
                        x: p.x + 5,
                        y: GROUND_Y - p.h + 5,
                        w: p.w - 10,
                        h: p.h - 5
                    };

                    if (obito.x + obito.radius - 12 > obsRect.x &&
                        obito.x - obito.radius + 12 < obsRect.x + obsRect.w &&
                        obito.y + obito.h / 2 - 5 > obsRect.y) {

                        gameState = 'gameOver';
                        gameOver();
                    }
                }
            },

            reset: function () {
                this.position = [];
            }
        };

        // Background / Foreground
        const bg = {
            draw: function () {
                ctx.fillStyle = "#87CEEB";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Sun
                ctx.fillStyle = "#FFD700";
                ctx.beginPath();
                ctx.arc(350, 50, 30, 0, Math.PI * 2);
                ctx.fill();

                // Mountains
                ctx.fillStyle = "#2c3e50";
                ctx.beginPath();
                ctx.moveTo(0, canvas.height);
                ctx.lineTo(100, canvas.height - 100);
                ctx.lineTo(250, canvas.height);
                ctx.fill();

                ctx.beginPath();
                ctx.moveTo(200, canvas.height);
                ctx.lineTo(350, canvas.height - 150);
                ctx.lineTo(500, canvas.height);
                ctx.fill();
            }
        };

        const fg = {
            h: 20,
            draw: function () {
                ctx.fillStyle = "#27ae60";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, this.h);
                ctx.fillStyle = "#2ecc71";
                ctx.fillRect(0, canvas.height - this.h, canvas.width, 5);
            }
        };

        // Score
        const score = {
            best: localStorage.getItem('ninja_runner_best') || 0,
            value: 0,

            draw: function () {
                ctx.fillStyle = "#FFF";
                ctx.strokeStyle = "#000";

                if (gameState == 'playing') {
                    ctx.lineWidth = 2;
                    ctx.font = "30px Courier New";
                    ctx.fillText("Score: " + this.value, 15, 40);
                    ctx.strokeText("Score: " + this.value, 15, 40);
                }
            },

            reset: function () {
                this.value = 0;
            }
        };

        // Game Loop
        function loop() {
            bg.draw();
            obstacles.draw();
            coins.draw();
            obito.draw();
            fg.draw();
            score.draw();

            obito.update();
            obstacles.update();
            coins.update();

            frames++;
            loopId = requestAnimationFrame(loop);
        }

        function initGame() {
            obito.reset();
            obstacles.reset();
            coins.reset();
            score.reset();
            frames = 0;
            gameState = 'getReady';
            loopId = requestAnimationFrame(loop);

            gameOverlay.style.display = 'block';
            msgHeading.innerText = "Get Ready!";
            msgScore.innerText = "Tap to Jump | Double Tap = Double Jump";
        }

        function gameOver() {
            gameOverlay.style.display = 'block';
            msgHeading.innerText = "Game Over";
            msgScore.innerText = `Score: ${score.value} | Best: ${score.best}\nClick to Restart`;
        }

        function clickHandler() {
            switch (gameState) {
                case 'getReady':
                    gameState = 'playing';
                    gameOverlay.style.display = 'none';
                    obito.jump();
                    break;
                case 'playing':
                    obito.jump();
                    break;
                case 'gameOver':
                    cancelAnimationFrame(loopId);
                    initGame();
                    break;
            }
        }

        // Listeners
        openGameBtn.addEventListener('click', () => {
            gameModal.style.display = 'flex';
            setTimeout(() => {
                gameModal.classList.add('active');
            }, 10);
            initGame();
        });

        closeGameBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            gameModal.classList.remove('active');
            setTimeout(() => {
                gameModal.style.display = 'none';
            }, 500);
            cancelAnimationFrame(loopId);
        });

        canvas.addEventListener('mousedown', clickHandler);

        // Prevent default space scrolling
        window.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && gameModal.style.display === 'flex') {
                e.preventDefault();
                clickHandler();
            }
        });
    </script>
</body>

</html>